{"version":3,"sources":["Basket.js","Filter.js","Catalog.js","Viewer.js","App.js","index.js"],"names":["Basket","props","array","Object","toConsumableArray","items","react_default","a","createElement","length","map","item","name","count","style","fontSize","backgroundColor","border","onClick","deleteData","Filter","value","Catalog","className","phones","phone","key","id","href","onPhoneSelected","alt","src","imageUrl","addItemToBasket","snippet","Viewer","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","selectedImg","images","_this2","description","onBack","index","setState","React","Component","App","selectedPhone","basketItems","saveToLocalSetState","objectSpread","localStorage","setItem","JSON","stringify","itemsArray","findIndex","concat","indexOf","splice","getPhoneById","phoneId","axios","get","then","res","data","undefined","getItem","parse","_this3","src_Filter","src_Basket","src_Viewer","src_Catalog","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.45df885f.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Basket = props => {\n  const array = [...props.items];\n  return (\n    <section>\n      <p>Shopping Cart</p>\n      <ul>\n        {array.length > 0\n          ? array.map(item => (\n              <li>\n                {item.name}\n                {item.count === 1 ? null : \"(\" + item.count + \")\"}\n                <button\n                  style={{\n                    fontSize: \"10px\",\n                    backgroundColor: \"Transparent\",\n                    border: \"none\"\n                  }}\n                  onClick={() => {\n                    props.deleteData(item);\n                  }}\n                >\n                  X\n                </button>\n              </li>\n            ))\n          : null}\n      </ul>\n    </section>\n  );\n};\n\nexport default Basket;\n","import React from 'react';\n\nconst Filter = () => {\n  return (\n    <section>\n      <p>\n        Search:\n        <input />\n      </p>\n\n      <p>\n        Sort by:\n        <select>\n          <option value=\"name\">Alphabetical</option>\n          <option value=\"age\">Newest</option>\n        </select>\n      </p>\n    </section>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst Catalog = props => {\n  return (\n    <ul className=\"phones\">\n      {props.phones.map(phone => (\n        <li className=\"thumbnail\" key={phone.id}>\n          <a\n            href={\"#\" + phone.id}\n            className=\"thumb\"\n            onClick={() => {\n              props.onPhoneSelected(phone.id);\n            }}\n          >\n            <img alt={phone.name} src={phone.imageUrl} />\n          </a>\n\n          <div className=\"phones__btn-buy-wrapper\">\n            <a\n              className=\"btn btn-success\"\n              onClick={() => {\n                props.addItemToBasket(phone);\n              }}\n            >\n              Add\n            </a>\n          </div>\n\n          <a\n            href={\"#\" + phone.id}\n            onClick={() => {\n              props.onPhoneSelected(phone.id);\n            }}\n          >\n            {phone.name}\n          </a>\n\n          <p>{phone.snippet}</p>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default Catalog;\n","import React from \"react\";\n\nclass Viewer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selectedImg: this.props.phone.images[0]\n    };\n  }\n\n  render() {\n    return (\n      <div>\n        <img\n          className=\"phone\"\n          src={this.state.selectedImg}\n          alt={this.props.phone.description}\n        />\n        <button onClick={this.props.onBack}>Back</button>\n        <button\n          onClick={() => {\n            this.props.addItemToBasket(this.props.phone);\n          }}\n        >\n          Add to basket\n        </button>\n\n        <h1>{this.props.phone.name}</h1>\n        <p>{this.props.phone.description}</p>\n\n        <ul className=\"phone-thumbs\">\n          {this.props.phone.images.map((imageUrl, index) => (\n            <li>\n              <img\n                src={imageUrl}\n                alt={this.props.phone.description}\n                onClick={() => {\n                  this.setState({\n                    selectedImg: this.props.phone.images[index]\n                  });\n                }}\n              />\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default Viewer;\n","import React from \"react\";\nimport axios from \"axios\";\n\nimport Basket from \"./Basket\";\nimport Filter from \"./Filter\";\nimport Catalog from \"./Catalog\";\nimport Viewer from \"./Viewer\";\n\nimport \"./App.css\";\n\nclass App extends React.Component {\n  state = {\n    phones: [],\n    selectedPhone: null,\n    basketItems: []\n  };\n\n  saveToLocalSetState = state => {\n    this.setState({ ...state }, () => {\n      localStorage.setItem(\n        \"basketItems\",\n        JSON.stringify(this.state.basketItems)\n      );\n    });\n  };\n\n  addItemToBasket = phone => {\n    let itemsArray = [...this.state.basketItems];\n    let index = itemsArray.findIndex(item => item.id === phone.id);\n    if (index === -1) {\n      this.saveToLocalSetState({\n        basketItems: [\n          ...itemsArray,\n          { id: phone.id, name: phone.name, count: 1 }\n        ]\n      });\n    } else {\n      let item = itemsArray[index];\n      item.count++;\n      itemsArray[index] = item;\n      this.saveToLocalSetState({\n        basketItems: itemsArray\n      });\n    }\n  };\n\n  deleteData = value => {\n    let array = [...this.state.basketItems];\n    let index = array.indexOf(value);\n    if (array[index].count === 1) {\n      array.splice(array.indexOf(value), 1);\n    } else {\n      array[index].count--;\n    }\n    this.saveToLocalSetState({ basketItems: array });\n  };\n\n  getPhoneById = phoneId => {\n    axios\n      .get(\n        `https://mate-academy.github.io/phone-catalogue-static/api/phones/` +\n          phoneId +\n          `.json`\n      )\n      .then(res => {\n        this.setState({ selectedPhone: res.data });\n      });\n  };\n\n  componentDidMount() {\n    localStorage.getItem(\"basketItems\") !== undefined &&\n      this.setState({\n        basketItems: JSON.parse(localStorage.getItem(\"basketItems\"))\n      });\n    axios\n      .get(\n        `https://mate-academy.github.io/phone-catalogue-static/api/phones.json`\n      )\n      .then(res => {\n        this.setState({ phones: res.data });\n      });\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"container-fluid\">\n          <div className=\"row\">\n            <div className=\"col-md-2\">\n              <Filter />\n              <Basket\n                items={this.state.basketItems}\n                deleteData={this.deleteData}\n              />\n            </div>\n\n            <div className=\"col-md-10\">\n              {this.state.selectedPhone ? (\n                <Viewer\n                  addItemToBasket={this.addItemToBasket}\n                  phone={this.state.selectedPhone}\n                  onBack={() => {\n                    this.setState({\n                      selectedPhone: null\n                    });\n                  }}\n                />\n              ) : (\n                <Catalog\n                  addItemToBasket={this.addItemToBasket}\n                  phones={this.state.phones}\n                  onPhoneSelected={phoneId => {\n                    this.getPhoneById(phoneId);\n                  }}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}